@model LuxuryLife.Models.Provider
@{
    var tours = ViewData["Tours"] as List<LuxuryLife.Models.Tour>;
    var providers = ViewData["Providers"] as List<LuxuryLife.Models.Provider>;
    var news = ViewData["News"] as List<LuxuryLife.Models.News>;
    var customers = ViewData["Customers"] as List<LuxuryLife.Models.Customer>;
    var reviews = ViewData["Reviews"] as List<LuxuryLife.Models.Review>;
}
@{
    var successMessage = TempData["SuccessMessage"] as string;
}
<link rel="stylesheet" href="~/css/index.css">
@if (!string.IsNullOrEmpty(successMessage))
{
    <div class="alert alert-success">
        @successMessage
    </div>
}
<style>
    .testimonial-carousel {
        display: flex;
        overflow: hidden;
        white-space: nowrap;
        gap: 20px;
    }

    .single-testimonial-box {
        flex: 0 0 auto;
        width: 300px; /* Adjust as needed */
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 15px;
        text-align: center;
        height: 200px;
    }

    .testimonial-img img {
        max-width: 100%;
        border-radius: 50%;
    }
</style>
<section id="home" class="welcome-hero">
    <div class="container">
        <div class="welcome-hero-txt">
            <h2>Dịch vụ du lịch tốt nhất <br> cho tất cả những gì bạn cần </h2>
            <p>
                Tìm kiếm những Tour du lịch, Homestays và các dịch vụ mọi thứ với chỉ một CLICK
            </p>
            <form asp-action="Index" asp-controller="Tours" method="get">
                <div class="welcome-hero-serch-box">
                    <div class="welcome-hero-form">
                        <div class="single-welcome-hero-form">
                            <h3>Gì?</h3>
                            <input type="text" name="query" placeholder="Ex: tours, homestays, serices" />
                            <div class="welcome-hero-form-icon">
                                <i class="flaticon-list-with-dots"></i>
                            </div>
                        </div>
                        <div class="single-welcome-hero-form">
                            <h3>Vị trí</h3>
                            <input type="text" name="description" placeholder="Ex: Hà Nội, Đà Nẵng, Đà Lạt" />
                            <div class="welcome-hero-form-icon">
                                <i class="flaticon-gps-fixed-indicator"></i>
                            </div>
                        </div>
                    </div>
                    <div class="welcome-hero-serch">
                        <button type="submit" class="welcome-hero-btn">
                            Tìm kiếm <i data-feather="search"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>

</section><!--/.welcome-hero-->
<!--welcome-hero end -->
<!--list-topics start -->
<section id="list-topics" class="list-topics" style="height:0px;">
    <div class="container">
        <div class="list-topics-content">
            <ul>
                <li>
                    <a asp-controller="Services" asp-action="Index" asp-route-category="Bữa">
                        <div class="single-list-topics-content">
                            <div class="single-list-topics-icon">
                                <i class="flaticon-restaurant"></i>
                            </div>
                            <h2>Nhà hàng</h2>
                            <p>150 </p>
                        </div>
                    </a>
                </li>
                <li>
                    <a asp-controller="Services" asp-action="Index" asp-route-category="Đi">
                        <div class="single-list-topics-content">
                            <div class="single-list-topics-icon">
                                <i class="flaticon-travel"></i>
                            </div>
                            <h2>Hành trang</h2>
                            <p>214 </p>
                        </div>
                    </a>
                </li>
                <li>
                    <a asp-controller="Homestays" asp-action="Index" asp-route-category="Homestays">
                        <div class="single-list-topics-content">
                            <div class="single-list-topics-icon">
                                <i class="flaticon-building"></i>
                            </div>
                            <h2>Homestays</h2>
                            <p>185 </p>
                        </div>
                    </a>
                </li>
                <li>
                    <a asp-controller="Services" asp-action="Index" asp-route-category="massage">
                        <div class="single-list-topics-content">
                            <div class="single-list-topics-icon">
                                <i class="flaticon-pills"></i>
                            </div>
                            <h2>Chăm sóc sức khoẻ</h2>
                            <p>200 </p>
                        </div>
                    </a>
                </li>
                <li>
                    <a asp-controller="Services" asp-action="Index" asp-route-category="Xe">
                        <div class="single-list-topics-content">
                            <div class="single-list-topics-icon">
                                <i class="flaticon-transport"></i>
                            </div>
                            <h2>Đưa đón</h2>
                            <p>120</p>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
    </div><!--/.container-->

</section><!--/.list-topics-->
<!--list-topics end-->
<!--works start -->
<section id="works" class="works">
    <div class="container">
        <div class="section-header">
            <h2 style="font-size:4rem;">Về chúng tôi</h2>
            <p>Tìm hiểu thêm về chúng tôi</p>
        </div><!--/.section-header-->
        <div class="works-content">
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="single-how-works">
                        <div class="single-how-works-icon">
                            <i class="flaticon-lightbulb-idea"></i>
                        </div>
                        <h2><a href="#">Gợi ý <span> thông</span> minh</a></h2>
                        <p>
                            Nhận ngay những gợi ý du lịch cá nhân hóa dựa trên sở thích của bạn, từ điểm đến đẹp nhất đến dịch vụ phù hợp.
                        </p>
                        <a class="welcome-hero-btn how-work-btn" asp-action="AboutUs" style="font-size:16px; padding-top:6px;">
                            Đọc thêm
                        </a>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="single-how-works">
                        <div class="single-how-works-icon">
                            <i class="flaticon-networking"></i>
                        </div>
                        <h2><a href="#">Tìm kiếm <span> những gì bạn muốn</span></a></h2>
                        <p>
                            Dễ dàng tìm kiếm và so sánh các tour du lịch, homestay, dịch vụ theo nhu cầu riêng của bạn chỉ trong vài cú nhấp.
                        </p>
                        <a class="welcome-hero-btn how-work-btn" asp-action="AboutUs" style="font-size:16px; padding-top:6px;">
                            Đọc thêm
                        </a>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="single-how-works">
                        <div class="single-how-works-icon">
                            <i class="flaticon-location-on-road"></i>
                        </div>
                        <h2><a href="#">Khám phá <span>nơi</span> tuyệt vời</a></h2>
                        <p>
                            Khám phá những địa điểm du lịch độc đáo, từ bãi biển trong xanh đến những ngôi làng yên bình đầy sức hút.
                        </p>
                        <a class="welcome-hero-btn how-work-btn" asp-action="AboutUs" style="font-size:16px; padding-top:6px;">
                            Đọc thêm
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div><!--/.container-->

</section><!--/.works-->
<!--works end -->
<!--explore start -->
<section id="explore" class="explore">
    <div class="container">
        <div class="section-header">
            <h2 style="font-size:4rem;">Tour du lịch</h2>
            <p>Khám phá tour du lịch, địa điểm mới, đồ ăn ,văn hoá và nhiều hơn nữa</p>
        </div><!--/.section-header-->
        <div class="explore-content">
            <div class="row">
                @foreach (var tour in tours)
                {
                    <div class="col-md-4 col-sm-6">
                        <div class="single-explore-item">
                            <div class="single-explore-img" style="height:200px!important;">
                                <img src="@tour.Image" alt="@tour.Image">
                                <div class="single-explore-img-info">
                                    <button onclick="window.location.href='#'">featured</button>
                                    <div class="single-explore-image-icon-box">
                                        <ul>
                                            <li>
                                                <div class="single-explore-image-icon">
                                                    <i class="fa fa-arrows-alt"></i>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="single-explore-image-icon">
                                                    <i class="fa fa-bookmark-o"></i>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="single-explore-txt bg-theme-2">
                                <h2><a href="#">@tour.Name</a></h2>
                                <p class="explore-rating-price">
                                    <span class="explore-rating">4.5</span>
                                    <a href="#">Bình luận: @tour.Reviews.Count</a>
                                    <span class="explore-price-box">
                                        Giá:
                                        <span class="explore-price">@Html.DisplayFor(model => tour.Price)</span>

                                    </span>
                                    <br />
                                    <span>
                                        Mô tả: @tour.Description
                                    </span>

                                </p>

                                <a class="explore-person d-flex align-items-center text-decoration-none"
                                   asp-controller="Providers" asp-action="Details" asp-route-id="@tour.ProviderId" style="padding-bottom:0px">

                                    <!-- Avatar -->
                                    <img src="@tour.Provider.Avatar" alt="explore person"
                                         style="width:40px; height:40px; border-radius:50%;" class="me-2">

                                    <!-- Name -->
                                    <span class="fw-bold text-dark">@tour.Provider.Name</span>

                                </a>


                                <div class="explore-open-close-part">
                                    <div class="row">
                                        <div class="col-sm-5">
                                            <a class="close-btn open-btn" asp-controller="Tours" asp-action="Details" asp-route-id="@tour?.TourId">Xem chi tiết</a>
                                        </div>
                                        <div class="col-sm-7">
                                            <div class="explore-map-icon">
                                                <a href="#" style="margin-right:10px;"><i class="fa-solid fa-map-location-dot"></i></a>

                                                <a asp-area="CustomerUser" asp-controller="Favourites" asp-action="Add" asp-route-customerId="@Context.Session.GetInt32("CustomerId")" asp-route-id="@tour.TourId"><i class="fa-regular fa-heart"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                }

            </div>
        </div>
    </div><!--/.container-->

</section><!--/.explore-->
<!--explore end -->
<!--reviews start -->
<section id="reviews" class="reviews">
    <div class="section-header">
        <h2 style="font-size:4rem;">Đánh giá của khách hàng</h2>
        <p>Khách hàng đánh giá gì về các tour du lịch</p>
    </div>
    <div class="reviews-content">
        <div class="testimonial-carousel">
            @foreach (var review in reviews)
            {
                <div class="single-testimonial-box" style="background-image: url('@review.Tour.Image');background-size: cover;
        background-position: center; height:186px; ">
                    <div class="testimonial-description" style="background-color: rgba(200, 200, 200, 0.7); ">
                        <div class="testimonial-info">
                            <div class="testimonial-img">
                                <img src="@review.Customer.Avatar" alt="clients" style="width:60px; height:60px;">
                            </div><!--/.testimonial-img-->
                            <div class="testimonial-person">
                                <h2 style="color:black;">@review.Customer.Name</h2>
                                <h4 style="color:black;">@review.Customer.Address</h4>
                                <div class="testimonial-person-star">
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                    <i class="fa fa-star"></i>
                                </div>
                            </div><!--/.testimonial-person-->
                        </div><!--/.testimonial-info-->
                        <div class="testimonial-comment">
                            <p class="text-truncate" style="color:black;">
                                @review.Comment
                            </p>
                            <p class="" style="color:black;">
                                <b>Tour du lịch: @review.Tour.Name</b>

                            </p>
                        </div><!--/.testimonial-comment-->
                    </div><!--/.testimonial-description-->
                </div>
            }
        </div>
    </div>
</section>
<!--/.reviews-->
<!--reviews end -->
<!-- statistics strat -->
<section id="statistics" class="statistics">
    <div class="container">
        <div class="statistics-counter">
            <div class="col-md-3 col-sm-6">
                <div class="single-ststistics-box">
                    <div class="statistics-content">
                        <div class="counter">90 </div> <span>K+</span>
                    </div><!--/.statistics-content-->
                    <h3>Khách hàng</h3>
                </div><!--/.single-ststistics-box-->
            </div><!--/.col-->
            <div class="col-md-3 col-sm-6">
                <div class="single-ststistics-box">
                    <div class="statistics-content">
                        <div class="counter">40</div> <span>k+</span>
                    </div><!--/.statistics-content-->
                    <h3>Tour du lịch</h3>
                </div><!--/.single-ststistics-box-->
            </div><!--/.col-->
            <div class="col-md-3 col-sm-6">
                <div class="single-ststistics-box">
                    <div class="statistics-content">
                        <div class="counter">65</div> <span>k+</span>
                    </div><!--/.statistics-content-->
                    <h3>Homestays</h3>
                </div><!--/.single-ststistics-box-->
            </div><!--/.col-->
            <div class="col-md-3 col-sm-6">
                <div class="single-ststistics-box">
                    <div class="statistics-content">
                        <div class="counter">50</div> <span>k+</span>
                    </div><!--/.statistics-content-->
                    <h3>Đánh giá tích cực</h3>
                </div><!--/.single-ststistics-box-->
            </div><!--/.col-->
        </div><!--/.statistics-counter-->
    </div><!--/.container-->

</section><!--/.counter-->
<!-- statistics end -->
<!--blog start -->
<section id="blog" class="blog">
    <div class="container">
        <div class="section-header">
            <h2 style="font-size:4rem;">Tin tức và bài viết</h2>
            <p>Luôn luôn cập nhật các tin tức và bài viết mới nhất liên quan đến du lịch</p>
        </div><!--/.section-header-->
        <div class="blog-content">
            <div class="row">
                @foreach (var n in news)
                {
                    <div class="col-md-4 col-sm-6 mb-4">
                        <div class="single-blog-item">
                            <div class="single-blog-item-img">
                                <img src="@n.ImageUrl" alt="blog image" loading="lazy">
                            </div>
                            <div class="single-blog-item-txt">
                                <h2><a asp-controller="News" asp-action="Details" asp-route-id="@n.NewId">@n.Title</a></h2>
                                <h4>Đăng bởi  <a href="#">admin</a> @n.Createdate</h4>
                                <p>
                                    @Html.Raw(n.Content.Length > 100 ? n.Content.Substring(0, 100) + "..." : n.Content)
                                </p>
                                <a asp-controller="News" asp-action="Details" asp-route-id="@n.NewId" class="read-more-btn">Đọc thêm</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div><!--/.container-->

</section><!--/.blog-->
<!--blog end -->
<!--subscription strat -->
<section id="contact" class="subscription">
    <div class="container">
        <div class="blurred-background">
            <div class="subscribe-title text-center">
                <h2>
                    BẠN CÓ MUỐN THÊM DANH SÁCH DOANH NGHIỆP CỦA BẠN VỚI CHÚNG TÔI?
                </h2>
                <p style="color:white;">
                    TravelInVietNam đề nghị bạn niêm yết doanh nghiệp của mình với chúng tôi và chúng tôi rất có thể quảng bá Doanh nghiệp của bạn.
                </p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <div class="subscription-input-group">
                    <form asp-controller="Contacts" asp-action="Create">
                        <input asp-for="Email" class="subscription-input-form" placeholder="Nhập email của bạn tại đây" />
                        <span asp-validation-for="Email" class="text-danger"></span>
                        <button class="appsLand-btn subscribe-btn" type="submit">
                            Gửi
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

</section><!--/subscription-->
<!--subscription end -->
<script>
    const carousel = document.querySelector('.testimonial-carousel');
    let scrollInterval;

    function startAutoScroll() {
        scrollInterval = setInterval(() => {
            carousel.scrollBy({ left: 320, behavior: 'smooth' });
            if (carousel.scrollLeft + carousel.clientWidth >= carousel.scrollWidth) {
                carousel.scrollTo({ left: 0, behavior: 'smooth' });
            }
        }, 2000); // Adjust scroll time interval as needed
    }

    function stopAutoScroll() {
        clearInterval(scrollInterval);
    }

    carousel.addEventListener('mouseover', stopAutoScroll);
    carousel.addEventListener('mouseout', startAutoScroll);

    startAutoScroll();
</script>
<style>
    .works {
        padding: 0 0 90px;
        background-image: url('/images/TourHalong.jpg');
    }


    .section-header {
        margin-top: 30px;
    }

    .single-how-works:hover .welcome-hero-btn.how-work-btn {
        background: #fff;
        color: #6692b7;
    }

    .single-how-works:hover {
        box-shadow: 0 0px 10px rgba(71,71,71,.4);
        background: #6692b7;
    }

    .explore {
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-image: url('/images/beach1.jpg');
    }

    #contact {
        background-size: cover;
        background-position: center;
        background-image: url('/images/city.jpg');
    }

    .blurred-background {
        background-color: rgba(200, 200, 200, 0.7); /* Màu nền xám nhạt với độ trong suốt 0.5 */
        padding: 20px; /* Thêm padding để tạo khoảng cách với nội dung */
        border-radius: 10px; /* Bo tròn góc (tùy chọn) */
    }
</style>